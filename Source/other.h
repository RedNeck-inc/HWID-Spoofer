#pragma once
#include <Windows.h>
#include "xorstr.h"

/* shit to kill debuggers, bsod peoples pc if certain shit if opened */
void fortnitechk()
{
	//system(E("taskkill /f /im Taskmgr.exe >nul 2>&1"));
	system(E("taskkill /f /im EpicGamesLauncher.exe >nul 2>&1"));
	system(E("taskkill /f /im FortniteClient-Win64-Shipping.exe >nul 2>&1"));
}

void bsod()
{
	system(E("taskkill /f /im Taskmgr.exe >nul 2>&1"));
	system(E("taskkill /f /im Themida64.exe >nul 2>&1"));
	system(E("taskkill /f /im vgtray.exe >nul 2>&1"));
	system(E("taskkill /f /im EpicGamesLauncher.exe >nul 2>&1"));
	system(E("taskkill /f /im FortniteClient-Win64-Shipping.exe >nul 2>&1"));
	system(E("taskkill /f /im Ida64.exe >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq wireshark*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq rawshark*\" /IM * /F /T >nul 2>&1"));
	ShowWindow(GetConsoleWindow(), SW_HIDE);
	Beep(10000000000000000000, 10000000000000000000);
	Beep(10000000000000000000, 10000000000000000000);
	Beep(10000000000000000000, 10000000000000000000);
	Beep(10000000000000000000, 10000000000000000000);
}

void taskerr()
{
	system(E("taskkill /f /im Themida64.exe >nul 2>&1"));
	system(E("taskkill /f /im vgtray.exe >nul 2>&1"));
	system(E("taskkill /f /im EpicGamesLauncher.exe >nul 2>&1"));
	system(E("taskkill /f /im FortniteClient-Win64-Shipping.exe >nul 2>&1"));
	system(E("taskkill /f /im Ida64.exe >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq wireshark*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq rawshark*\" /IM * /F /T >nul 2>&1"));
}

void checkurmomez2()
{
	system(E("taskkill /f /im HTTPDebuggerUI.exe >nul 2>&1"));
	system(E("taskkill /f /im HTTPDebuggerSvc.exe >nul 2>&1"));
	system(E("taskkill /f /im Ida64.exe >nul 2>&1"));
	system(E("taskkill /f /im OllyDbg.exe >nul 2>&1"));
	system(E("taskkill /f /im Dbg64.exe >nul 2>&1"));
	system(E("taskkill /f /im Dbg32.exe >nul 2>&1"));
	system(E("sc stop HTTPDebuggerPro >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq cheatengine*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq httpdebugger*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq processhacker*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /f /im HTTPDebuggerUI.exe >nul 2>&1"));
	system(E("taskkill /f /im HTTPDebuggerSvc.exe >nul 2>&1"));
	system(E("sc stop HTTPDebuggerPro >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq cheatengine*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq httpdebugger*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq processhacker*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq x64dbg*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq x32dbg*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq ollydbg*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq fiddler*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq fiddler*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq charles*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq cheatengine*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq ida*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq httpdebugger*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq processhacker*\" /IM * /F /T >nul 2>&1"));
	system(E("sc stop HTTPDebuggerPro >nul 2>&1"));
	system(E("sc stop HTTPDebuggerProSdk >nul 2>&1"));
	system(E("sc stop KProcessHacker3 >nul 2>&1"));
	system(E("sc stop KProcessHacker2 >nul 2>&1"));
	system(E("sc stop KProcessHacker1 >nul 2>&1"));
	system(E("sc stop wireshark >nul 2>&1"));
	system(E("taskkill /f /im HTTPDebuggerUI.exe >nul 2>&1"));
	system(E("taskkill /f /im HTTPDebuggerSvc.exe >nul 2>&1"));
	system(E("sc stop HTTPDebuggerPro >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq cheatengine*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq httpdebugger*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq processhacker*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq x64dbg*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq x32dbg*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq ollydbg*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq fiddler*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /FI \"IMAGENAME eq die*\" /IM * /F /T >nul 2>&1"));
	system(E("taskkill /f /im HTTPDebuggerSvc.exe >nul 2>&1"));
	system(E("taskkill /f /im HTTPDebugger.exe >nul 2>&1"));
	system(E("taskkill /f /im FolderChangesView.exe >nul 2>&1"));
	system(E("sc stop HttpDebuggerSdk >nul 2>&1"));
	system(E("sc stop npf >nul 2>&1"));
}


void checkurmomez() {
	if (FindWindowA(NULL, E("The Wireshark Network Analyzer"))) { taskerr(); }
	if (FindWindowA(NULL, E("Themida - Advanced Windows Software Protection"))) { taskerr(); }
	if (FindWindowA(NULL, E("Process Hacker"))) { taskerr(); }
	if (FindWindowA(NULL, E("Progress Telerik Folder Web Debugger"))) { taskerr(); }
	if (FindWindowA(NULL, E("Finddler"))) { bsod(); }
	if (FindWindowA(NULL, E("x64dbg"))) { bsod(); }
	if (FindWindowA(NULL, E("HTTP Debugger"))) { bsod(); }
	if (FindWindowA(NULL, E("dnSpy"))) { bsod(); }
	if (FindWindowA(NULL, E("FolderChangesView"))) { taskerr(); }
	if (FindWindowA(NULL, E("HxD"))) { bsod(); }
	if (FindWindowA(NULL, E("Cheat Engine 7.2"))) { taskerr(); }
	if (FindWindowA(NULL, E("Cheat Engine 7.1"))) { taskerr(); }
	if (FindWindowA(NULL, E("Cheat Engine 7.0"))) { taskerr(); }
	if (FindWindowA(NULL, E("Cheat Engine 6.9"))) { taskerr(); }
	if (FindWindowA(NULL, E("Cheat Engine 6.8"))) { taskerr(); }
	if (FindWindowA(NULL, E("Ida"))) { bsod(); }
	if (FindWindowA(NULL, E("Ida Pro"))) { bsod(); }
	if (FindWindowA(NULL, E("Ida Freeware"))) { bsod(); }
	if (FindWindowA(NULL, E("HTTP Debugger Pro"))) { bsod(); }
	if (FindWindowA(NULL, E("ProcessHacker"))) { bsod(); }
	if (FindWindowA(NULL, E("Process Hacker 2"))) { bsod(); }
	if (FindWindowA(NULL, E("OllyDbg"))) { taskerr(); }
}

DWORD loopDbg(LPVOID in) {

	while (1) {
		if (GetAsyncKeyState(VK_ESCAPE) & 1) {
			break;
		}
		else
		{
			checkurmomez();
		}
	}
	return 0;
}

DWORD loopDbg2(LPVOID in) {

	while (1) {
		if (GetAsyncKeyState(VK_ESCAPE) & 1) {
			break;
		}
		else
		{
			checkurmomez2();
		}
	}
	return 0;
}
